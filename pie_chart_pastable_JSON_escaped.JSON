<!-- Include this HTML Code in the location on the page where you want your chart to go. -->\n\n<div id=\"wholeChart\">\n  <h1 id=\"chartTitle\">Gender Ratio on The Board</h1>\n  <div id=\"chart\"></div>\n  <h3>Total: <span id=\"pieTotal\"></span></h3>\n  <div id=\"yearSelection\">\n    <strong>Year</strong>: <span id=\"sliderVal\">0</span><br>\n    <span id=\"startYear\"></span>\n    <input id=\"dataYear\" type=\"range\" min=\"1995\" max=\"2000\" step=\"1\" value=\"1995\" onchange=\"sliderValChange(this.value)\" />\n    <span id=\"endYear\"></span><br>\n    <button onclick=\"reset()\" class=\"btn btn-success\">Reset</button>\n    <button onclick=\"autoPlay()\" class=\"btn btn-primary\">Autoplay</button>\n  </div>\n</div>\n\n<script>\n// ======||||| Please modify to your liking ||||||=========\n\n// NOTE: You must keep the same sections for each year.\n// NOTE: Any gaps in the data will break the chart.\n// If you don't have data for that year, include 0s, or change the \"step\" in the html input slider.\nvar labels = [\"Male\", \"Female\"];\nvar dataVals = {\n1994: [13,5],\n1995: [11,5],\n1996: [13,5],\n1997: [15,6],\n1998: [12,7],\n1999: [11,7],\n2000: [12,7],\n2001: [13,8],\n2002: [13,7],\n2003: [12,7],\n2004: [14,7],\n2005: [14,7],\n2006: [15,6],\n2007: [13,6],\n2008: [13,7],\n2009: [12,8],\n2010: [12,7],\n2011: [12,6],\n2012: [11,6],\n2013: [10,5],\n2014: [13,4],\n2015: [14,4],\n2016: [14,4]\n};\n\nvar currency = \"\"; // Appended to beginning of label values\nvar startYear = 1995;\nvar endYear = 2016;\n\nvar transitionTime = 1000; // ms per transition\n</script>\n\n<!-- // ======||||| You shouldn't need to change anything below this line ||||||========= -->\n\n<style>\n#wholeChart {\n  text-align:center;\n  position: relative;\n}\n\n#chart {\n  display:inline-block;\n  width:100%;\n  height:500px;\n  margin:10px;\n}\n\n#dataYear {\n  max-width:200px;\n  display:inline;\n  margin-left:auto;\n  margin-right:auto;\n}\nsvg{\n  width: 100%;\n  height: 100%;\n}\npath.slice{\n  stroke-width:2px;\n}\n\npolyline{\n  opacity: .3;\n  stroke: black;\n  stroke-width: 2px;\n  fill: none;\n}\n</style>\n\n<script src=\"https://d3js.org/d3.v3.min.js\"></script>\n\n<script>function initializeChart(){sliderValChange(document.getElementById(\"dataYear\").value),document.getElementById(\"dataYear\").setAttribute(\"min\",startYear),document.getElementById(\"dataYear\").setAttribute(\"max\",endYear),document.getElementById(\"startYear\").innerHTML=startYear,document.getElementById(\"endYear\").innerHTML=endYear}function sliderValChange(e){document.getElementById(\"sliderVal\").innerHTML=e;var t=dataVals[e].reduce(function(e,t){return e+t},0);document.getElementById(\"pieTotal\").innerHTML=currency+t.toString(),change(getData(e))}function getCurrentYear(){return document.getElementById(\"dataYear\").value}function getData(e){return yearData(e)}function yearData(e){for(var t=color.domain(),a=[],r=dataVals[e],n=Math.min(t.length,r.length),l=0;n>l;l++){var i={label:t[l],value:r[l]};a.push(i)}return a}function reset(){document.getElementById(\"dataYear\").value=startYear,sliderValChange(document.getElementById(\"dataYear\").value)}function autoPlay(){getCurrentYear()!=endYear&&(document.getElementById(\"dataYear\").value++,sliderValChange(document.getElementById(\"dataYear\").value),setTimeout(function(){autoPlay()},1e3))}function randomData(){var e=color.domain();return e.map(function(e){return{label:e,value:Math.random()}}).filter(function(){return Math.random()>.5}).sort(function(e,t){return d3.ascending(e.label,t.label)})}function mergeWithFirstEqualZero(e,t){var a=d3.set();t.forEach(function(e){a.add(e.label)});var r=e.filter(function(e){return!a.has(e.label)}).map(function(e){return{label:e.label,value:0}});return d3.merge([t,r]).sort(function(e,t){return d3.ascending(e.label,t.label)})}function change(e){function t(e){return e.startAngle+(e.endAngle-e.startAngle)/2}var a=transitionTime,r=svg.select(\".slices\").selectAll(\"path.slice\").data().map(function(e){return e.data});0===r.length&&(r=e);var n=mergeWithFirstEqualZero(e,r),l=mergeWithFirstEqualZero(r,e),i=svg.select(\".slices\").selectAll(\"path.slice\").data(pie(n),key);i.enter().insert(\"path\").attr(\"class\",\"slice\").style(\"fill\",function(e){return color(e.data.label)}).each(function(e){this._current=e}),i=svg.select(\".slices\").selectAll(\"path.slice\").data(pie(l),key),i.transition().duration(a).attrTween(\"d\",function(e){var t=d3.interpolate(this._current,e),a=this;return function(e){return a._current=t(e),arc(a._current)}}),i=svg.select(\".slices\").selectAll(\"path.slice\").data(pie(e),key),i.exit().transition().delay(a).duration(0).remove();var s=svg.select(\".labels\").selectAll(\"text\").data(pie(n),key);s.enter().append(\"text\").attr(\"dy\",\".35em\").style(\"opacity\",0).text(function(e){return e.data.label}).each(function(e){this._current=e}),s=svg.select(\".labels\").selectAll(\"text\").data(pie(l),key).text(function(e){return e.data.label+\": \"+currency+e.data.value}),svg.select(\".centerYear\").text(getCurrentYear()),s.transition().duration(a).style(\"opacity\",function(e){return 0===e.data.value?0:1}).attrTween(\"transform\",function(e){var a=d3.interpolate(this._current,e),r=this;return function(e){var n=a(e);r._current=n;var l=outerArc.centroid(n);return l[0]=radius*(t(n)<Math.PI?1:-1),\"translate(\"+l+\")\"}}).styleTween(\"text-anchor\",function(e){var a=d3.interpolate(this._current,e);return function(e){var r=a(e);return t(r)<Math.PI?\"start\":\"end\"}}),s=svg.select(\".labels\").selectAll(\"text\").data(pie(e),key),s.exit().transition().delay(a).remove();var u=svg.select(\".lines\").selectAll(\"polyline\").data(pie(n),key);u.enter().append(\"polyline\").style(\"opacity\",0).each(function(e){this._current=e}),u=svg.select(\".lines\").selectAll(\"polyline\").data(pie(l),key),u.transition().duration(a).style(\"opacity\",function(e){return 0===e.data.value?0:.5}).attrTween(\"points\",function(e){this._current=this._current;var a=d3.interpolate(this._current,e),r=this;return function(e){var n=a(e);r._current=n;var l=outerArc.centroid(n);return l[0]=.95*radius*(t(n)<Math.PI?1:-1),[arc.centroid(n),outerArc.centroid(n),l]}}),u=svg.select(\".lines\").selectAll(\"polyline\").data(pie(e),key),u.exit().transition().delay(a).remove()}var color=d3.scale.category20().domain(labels),svg=d3.select(\"#chart\").append(\"svg\").append(\"g\");svg.append(\"g\").attr(\"class\",\"slices\"),svg.append(\"g\").attr(\"class\",\"labels\"),svg.append(\"g\").attr(\"class\",\"lines\"),svg.append(\"text\").attr(\"text-anchor\",\"middle\").text(getCurrentYear()).style({\"font-size\":\"25px\"}).classed(\"centerYear\",!0);var width=document.getElementById(\"chart\").offsetWidth,height=document.getElementById(\"chart\").offsetHeight;radius=Math.min(width-300,height)/2;var pie=d3.layout.pie().sort(null).value(function(e){return e.value}),arc=d3.svg.arc().outerRadius(.8*radius).innerRadius(.4*radius),outerArc=d3.svg.arc().innerRadius(.9*radius).outerRadius(.9*radius);svg.attr(\"transform\",\"translate(\"+width/2+\",\"+height/2+\")\");var key=function(e){return e.data.label};initializeChart();</script>\n\n<h1>Instructions for Use</h1>\n\n<p>Here is the code to copy and paste into your HTML file.</p>\n\n<pre>\n&lt;!-- Include this HTML Code in the location on the page where you want your chart to go. --&gt;\n\n&lt;div id=&quot;wholeChart&quot;&gt;\n  &lt;h1 id=&quot;chartTitle&quot;&gt;Gender Ratio on The Board&lt;/h1&gt;\n  &lt;div id=&quot;chart&quot;&gt;&lt;/div&gt;\n  &lt;h3&gt;Total: &lt;span id=&quot;pieTotal&quot;&gt;&lt;/span&gt;&lt;/h3&gt;\n  &lt;div id=&quot;yearSelection&quot;&gt;\n    &lt;strong&gt;Year&lt;/strong&gt;: &lt;span id=&quot;sliderVal&quot;&gt;0&lt;/span&gt;&lt;br&gt;\n    &lt;span id=&quot;startYear&quot;&gt;&lt;/span&gt;\n    &lt;input id=&quot;dataYear&quot; type=&quot;range&quot; min=&quot;1995&quot; max=&quot;2000&quot; step=&quot;1&quot; value=&quot;1995&quot; onchange=&quot;sliderValChange(this.value)&quot; /&gt;\n    &lt;span id=&quot;endYear&quot;&gt;&lt;/span&gt;&lt;br&gt;\n    &lt;button onclick=&quot;reset()&quot; class=&quot;btn btn-success&quot;&gt;Reset&lt;/button&gt;\n    &lt;button onclick=&quot;autoPlay()&quot; class=&quot;btn btn-primary&quot;&gt;Autoplay&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n// ======||||| Please modify to your liking ||||||=========\n\n// NOTE: You must keep the same sections for each year.\n// NOTE: Any gaps in the data will break the chart.\n// If you don't have data for that year, include 0s, or change the &quot;step&quot; in the html input slider.\nvar labels = [&quot;Male&quot;, &quot;Female&quot;];\nvar dataVals = {\n1994: [13,5],\n1995: [11,5],\n1996: [13,5],\n1997: [15,6],\n1998: [12,7],\n1999: [11,7],\n2000: [12,7],\n2001: [13,8],\n2002: [13,7],\n2003: [12,7],\n2004: [14,7],\n2005: [14,7],\n2006: [15,6],\n2007: [13,6],\n2008: [13,7],\n2009: [12,8],\n2010: [12,7],\n2011: [12,6],\n2012: [11,6],\n2013: [10,5],\n2014: [13,4],\n2015: [14,4],\n2016: [14,4]\n};\n\nvar currency = &quot;&quot;; // Appended to beginning of label values\nvar startYear = 1995;\nvar endYear = 2016;\n\nvar transitionTime = 1000; // ms per transition\n&lt;/script&gt;\n\n&lt;!-- // ======||||| You shouldn't need to change anything below this line ||||||========= --&gt;\n\n&lt;style&gt;\n#wholeChart {\n  text-align:center;\n  position: relative;\n}\n\n#chart {\n  display:inline-block;\n  width:100%;\n  height:500px;\n  margin:10px;\n}\n\n#dataYear {\n  max-width:200px;\n  display:inline;\n  margin-left:auto;\n  margin-right:auto;\n}\nsvg{\n  width: 100%;\n  height: 100%;\n}\npath.slice{\n  stroke-width:2px;\n}\n\npolyline{\n  opacity: .3;\n  stroke: black;\n  stroke-width: 2px;\n  fill: none;\n}\n&lt;/style&gt;\n\n&lt;script src=&quot;https://d3js.org/d3.v3.min.js&quot;&gt;&lt;/script&gt;\n\n&lt;script&gt;function initializeChart(){sliderValChange(document.getElementById(&quot;dataYear&quot;).value),document.getElementById(&quot;dataYear&quot;).setAttribute(&quot;min&quot;,startYear),document.getElementById(&quot;dataYear&quot;).setAttribute(&quot;max&quot;,endYear),document.getElementById(&quot;startYear&quot;).innerHTML=startYear,document.getElementById(&quot;endYear&quot;).innerHTML=endYear}function sliderValChange(e){document.getElementById(&quot;sliderVal&quot;).innerHTML=e;var t=dataVals[e].reduce(function(e,t){return e+t},0);document.getElementById(&quot;pieTotal&quot;).innerHTML=currency+t.toString(),change(getData(e))}function getCurrentYear(){return document.getElementById(&quot;dataYear&quot;).value}function getData(e){return yearData(e)}function yearData(e){for(var t=color.domain(),a=[],r=dataVals[e],n=Math.min(t.length,r.length),l=0;n&gt;l;l++){var i={label:t[l],value:r[l]};a.push(i)}return a}function reset(){document.getElementById(&quot;dataYear&quot;).value=startYear,sliderValChange(document.getElementById(&quot;dataYear&quot;).value)}function autoPlay(){getCurrentYear()!=endYear&amp;&amp;(document.getElementById(&quot;dataYear&quot;).value++,sliderValChange(document.getElementById(&quot;dataYear&quot;).value),setTimeout(function(){autoPlay()},1e3))}function randomData(){var e=color.domain();return e.map(function(e){return{label:e,value:Math.random()}}).filter(function(){return Math.random()&gt;.5}).sort(function(e,t){return d3.ascending(e.label,t.label)})}function mergeWithFirstEqualZero(e,t){var a=d3.set();t.forEach(function(e){a.add(e.label)});var r=e.filter(function(e){return!a.has(e.label)}).map(function(e){return{label:e.label,value:0}});return d3.merge([t,r]).sort(function(e,t){return d3.ascending(e.label,t.label)})}function change(e){function t(e){return e.startAngle+(e.endAngle-e.startAngle)/2}var a=transitionTime,r=svg.select(&quot;.slices&quot;).selectAll(&quot;path.slice&quot;).data().map(function(e){return e.data});0===r.length&amp;&amp;(r=e);var n=mergeWithFirstEqualZero(e,r),l=mergeWithFirstEqualZero(r,e),i=svg.select(&quot;.slices&quot;).selectAll(&quot;path.slice&quot;).data(pie(n),key);i.enter().insert(&quot;path&quot;).attr(&quot;class&quot;,&quot;slice&quot;).style(&quot;fill&quot;,function(e){return color(e.data.label)}).each(function(e){this._current=e}),i=svg.select(&quot;.slices&quot;).selectAll(&quot;path.slice&quot;).data(pie(l),key),i.transition().duration(a).attrTween(&quot;d&quot;,function(e){var t=d3.interpolate(this._current,e),a=this;return function(e){return a._current=t(e),arc(a._current)}}),i=svg.select(&quot;.slices&quot;).selectAll(&quot;path.slice&quot;).data(pie(e),key),i.exit().transition().delay(a).duration(0).remove();var s=svg.select(&quot;.labels&quot;).selectAll(&quot;text&quot;).data(pie(n),key);s.enter().append(&quot;text&quot;).attr(&quot;dy&quot;,&quot;.35em&quot;).style(&quot;opacity&quot;,0).text(function(e){return e.data.label}).each(function(e){this._current=e}),s=svg.select(&quot;.labels&quot;).selectAll(&quot;text&quot;).data(pie(l),key).text(function(e){return e.data.label+&quot;: &quot;+currency+e.data.value}),svg.select(&quot;.centerYear&quot;).text(getCurrentYear()),s.transition().duration(a).style(&quot;opacity&quot;,function(e){return 0===e.data.value?0:1}).attrTween(&quot;transform&quot;,function(e){var a=d3.interpolate(this._current,e),r=this;return function(e){var n=a(e);r._current=n;var l=outerArc.centroid(n);return l[0]=radius*(t(n)&lt;Math.PI?1:-1),&quot;translate(&quot;+l+&quot;)&quot;}}).styleTween(&quot;text-anchor&quot;,function(e){var a=d3.interpolate(this._current,e);return function(e){var r=a(e);return t(r)&lt;Math.PI?&quot;start&quot;:&quot;end&quot;}}),s=svg.select(&quot;.labels&quot;).selectAll(&quot;text&quot;).data(pie(e),key),s.exit().transition().delay(a).remove();var u=svg.select(&quot;.lines&quot;).selectAll(&quot;polyline&quot;).data(pie(n),key);u.enter().append(&quot;polyline&quot;).style(&quot;opacity&quot;,0).each(function(e){this._current=e}),u=svg.select(&quot;.lines&quot;).selectAll(&quot;polyline&quot;).data(pie(l),key),u.transition().duration(a).style(&quot;opacity&quot;,function(e){return 0===e.data.value?0:.5}).attrTween(&quot;points&quot;,function(e){this._current=this._current;var a=d3.interpolate(this._current,e),r=this;return function(e){var n=a(e);r._current=n;var l=outerArc.centroid(n);return l[0]=.95*radius*(t(n)&lt;Math.PI?1:-1),[arc.centroid(n),outerArc.centroid(n),l]}}),u=svg.select(&quot;.lines&quot;).selectAll(&quot;polyline&quot;).data(pie(e),key),u.exit().transition().delay(a).remove()}var color=d3.scale.category20().domain(labels),svg=d3.select(&quot;#chart&quot;).append(&quot;svg&quot;).append(&quot;g&quot;);svg.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;slices&quot;),svg.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;labels&quot;),svg.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;lines&quot;),svg.append(&quot;text&quot;).attr(&quot;text-anchor&quot;,&quot;middle&quot;).text(getCurrentYear()).style({&quot;font-size&quot;:&quot;25px&quot;}).classed(&quot;centerYear&quot;,!0);var width=document.getElementById(&quot;chart&quot;).offsetWidth,height=document.getElementById(&quot;chart&quot;).offsetHeight;radius=Math.min(width-300,height)/2;var pie=d3.layout.pie().sort(null).value(function(e){return e.value}),arc=d3.svg.arc().outerRadius(.8*radius).innerRadius(.4*radius),outerArc=d3.svg.arc().innerRadius(.9*radius).outerRadius(.9*radius);svg.attr(&quot;transform&quot;,&quot;translate(&quot;+width/2+&quot;,&quot;+height/2+&quot;)&quot;);var key=function(e){return e.data.label};initializeChart();&lt;/script&gt;\n</pre>